<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>SetupRate PRO</title>

<style>
:root{
  --c1:#00f5ff;
  --c2:#7cffcb;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}

body{
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
  min-height:100vh;
}

/* HEADER */
header{
  text-align:center;
  padding:40px;
}
header h1{
  font-size:3rem;
  background:linear-gradient(90deg,var(--c1),var(--c2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* FORM */
.panel{
  max-width:520px;
  margin:20px auto;
  background:rgba(255,255,255,.1);
  padding:20px;
  backdrop-filter:blur(15px);
}
.panel input,.panel textarea{
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border:none;
  background:rgba(255,255,255,.15);
  color:#fff;
}

/* GRID */
.setups{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:25px;
  padding:30px;
}

/* CARD */
.card{
  background:rgba(255,255,255,.12);
  overflow:hidden;
  animation:fadeUp .6s ease;
}
.card img{
  width:100%;
  height:220px;
  object-fit:cover;
}
.content{padding:15px}

/* YORUM ALANI */
.comment-box{
  margin-top:10px;
}
.comment-input{
  width:100%;
  padding:10px;
  border:none;
  outline:none;
  background:#0b0f14;
  color:#fff;
  border-radius:0;
  animation:commentIn .4s ease;
}
.comment-input:focus{
  background:#111827;
}

.comments p{
  font-size:.8rem;
  border-bottom:1px solid rgba(255,255,255,.2);
  padding:4px 0;
}

/* BUTTON */
button{
  background:var(--c1);
  color:#000;
  border:none;
  padding:8px 12px;
  cursor:pointer;
  font-weight:bold;
}

/* ANİMASYON */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1}
}
@keyframes commentIn{
  from{opacity:0;transform:translateY(-5px)}
  to{opacity:1}
}
</style>
</head>

<body>

<header>
  <h1>SetupRate PRO</h1>
  <p>Gerçek setup • Gerçek puan</p>
</header>

<div class="panel">
  <input id="username" placeholder="Kullanıcı adı">
  <textarea id="desc" placeholder="Setup açıklaması"></textarea>
  <input type="file" id="file" accept="image/*" capture="environment">
  <button onclick="addSetup()">Setup Paylaş</button>
  <div id="limit"></div>
</div>

<section class="setups" id="setups"></section>

<script>
let setups = JSON.parse(localStorage.getItem("setups")||"[]");

/* GÜNLÜK LIMIT */
const today = new Date().toDateString();
let daily = JSON.parse(localStorage.getItem("daily")||"{}");
if(daily.date!==today) daily={date:today,count:0};

function save(){
  localStorage.setItem("setups",JSON.stringify(setups));
  localStorage.setItem("daily",JSON.stringify(daily));
}

function addSetup(){
  if(daily.count>=2){
    limit.innerText="Günlük maksimum 2 setup paylaşabilirsin";
    return;
  }

  const u=username.value.trim();
  const d=desc.value.trim();
  const f=file.files[0];
  if(!u||!d||!f)return;

  const r=new FileReader();
  r.onload=()=>{
    setups.unshift({u,d,img:r.result,comments:[]});
    daily.count++;
    save();
    render();
  };
  r.readAsDataURL(f);
}

function render(){
  setups.innerHTML="";
  setups.forEach((s,i)=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <img src="${s.img}">
      <div class="content">
        <b>@${s.u}</b>
        <p style="font-size:.85rem">${s.d}</p>

        <div class="comment-box">
          <input class="comment-input" placeholder="Yorum yaz..."
            onkeydown="if(event.key==='Enter' && this.value.trim()){
              setups[${i}].comments.push(this.value);
              this.value='';
              save();
              render();
            }">
          <div class="comments">
            ${s.comments.map(c=>`<p>${c}</p>`).join("")}
          </div>
        </div>
      </div>
    `;
    setups.appendChild(div);
  });
}

render();
</script>

</body>
</html>

